
<!doctype html>
<html lang="uz" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="ðŸŸ¢ Guides, Examples, Tutorials">
      
      
        <meta name="author" content="Hoosnick">
      
      
        <link rel="canonical" href="https://hoosnick.github.io/rest-api-framework-book/10_serializer/">
      
      
        <link rel="prev" href="../09_views/">
      
      
        <link rel="next" href="../11_deploy/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.5">
    
    
      
        <title>Mavzu 9: Serializer. Pagination. Filtering. Security - REST API FRAMEWORK</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6a10b989.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mavzu-9-serializer-pagination-filtering-security" class="md-skip">
          Tarkibga o'tish
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Sarlavha">
    <a href=".." title="REST API FRAMEWORK" class="md-header__button md-logo" aria-label="REST API FRAMEWORK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 7H5a2 2 0 0 0-2 2v8h2v-4h2v4h2V9a2 2 0 0 0-2-2m0 4H5V9h2m7-2h-4v10h2v-4h2a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2m0 4h-2V9h2m6 0v6h1v2h-4v-2h1V9h-1V7h4v2Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            REST API FRAMEWORK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Mavzu 9: Serializer. Pagination. Filtering. Security
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Qidirish" placeholder="Qidirish" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Qidirish">
        
        <button type="reset" class="md-search__icon md-icon" title="Tozalash" aria-label="Tozalash" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Qidiruv ishga tushirilmoqda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hoosnick/rest-api-framework-book" title="Repozitoriyga o'tish" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    hoosnick/rest-api-framework-book
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigatsiya" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="REST API FRAMEWORK" class="md-nav__button md-logo" aria-label="REST API FRAMEWORK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 7H5a2 2 0 0 0-2 2v8h2v-4h2v4h2V9a2 2 0 0 0-2-2m0 4H5V9h2m7-2h-4v10h2v-4h2a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2m0 4h-2V9h2m6 0v6h1v2h-4v-2h1V9h-1V7h4v2Z"/></svg>

    </a>
    REST API FRAMEWORK
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hoosnick/rest-api-framework-book" title="Repozitoriyga o'tish" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    hoosnick/rest-api-framework-book
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Django REST API Framework
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../02_work_with_models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mavzu 2: Modellar bilan ishlash
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../03_queryset_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mavzu 3: QuerySet. Filtr va shartlar bilan ishlash
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../04_queryset_methods/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mavzu 4: QuerySet qaytaradigan metodlar
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../05_queryset_functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mavzu 5: QuerySet. Mantiqiy shartlar va agregat funksiyalar
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../06_queryset_outro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mavzu 6: QuerySet. QuerySet qaytarmaydigan metodlar
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../07_api_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mavzu 1: API va REST API
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../08_api_outro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mavzu 7: API va REST API
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../09_views/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mavzu 8: Class View
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Mavzu 9: Serializer. Pagination. Filtering. Security
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Mavzu 9: Serializer. Pagination. Filtering. Security
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Mundarija">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Mundarija
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#reja" class="md-nav__link">
    Reja:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-bilim" class="md-nav__link">
    1. Bilim
  </a>
  
    <nav class="md-nav" aria-label="1. Bilim">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-terminlar" class="md-nav__link">
    1.1 Terminlar
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-amaliyot-oqituvchi" class="md-nav__link">
    2. Amaliyot. O'qituvchi
  </a>
  
    <nav class="md-nav" aria-label="2. Amaliyot. O'qituvchi">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-serialayzer" class="md-nav__link">
    2.1 Serialayzer
  </a>
  
    <nav class="md-nav" aria-label="2.1 Serialayzer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-tarmoqli-serializer" class="md-nav__link">
    2.1.1 Tarmoqli serializer
  </a>
  
    <nav class="md-nav" aria-label="2.1.1 Tarmoqli serializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#masala-1" class="md-nav__link">
    Masala 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qadam-1" class="md-nav__link">
    Qadam 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qadam-2" class="md-nav__link">
    Qadam 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qadam-3" class="md-nav__link">
    Qadam 3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qadam-4" class="md-nav__link">
    Qadam 4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qadam-5" class="md-nav__link">
    Qadam 5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qadam-6" class="md-nav__link">
    Qadam 6
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#masala-2" class="md-nav__link">
    Masala 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#masala-3" class="md-nav__link">
    Masala 3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-metod-qoshish" class="md-nav__link">
    2.1.2 Metod qo'shish
  </a>
  
    <nav class="md-nav" aria-label="2.1.2 Metod qo'shish">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#masala-4" class="md-nav__link">
    Masala 4
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#213-validatsiya" class="md-nav__link">
    2.1.3 Validatsiya
  </a>
  
    <nav class="md-nav" aria-label="2.1.3 Validatsiya">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#built-in-validatsiya" class="md-nav__link">
    Built-in validatsiya
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validatsiya-yozish" class="md-nav__link">
    Validatsiya yozish
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hususiy-validatsiya" class="md-nav__link">
    Hususiy validatsiya
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#umumiy-validatsiya" class="md-nav__link">
    Umumiy validatsiya
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-sahifalash-pagination" class="md-nav__link">
    2.2 Sahifalash - pagination
  </a>
  
    <nav class="md-nav" aria-label="2.2 Sahifalash - pagination">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-pagenumberpagination" class="md-nav__link">
    2.2.1 PageNumberPagination
  </a>
  
    <nav class="md-nav" aria-label="2.2.1 PageNumberPagination">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2211-global-daraja" class="md-nav__link">
    2.2.1.1 Global daraja
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2212-class-daraja" class="md-nav__link">
    2.2.1.2 Class daraja
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#224-limitoffsetpagination" class="md-nav__link">
    2.2.4 LimitOffsetPagination
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-filtrlash-filter" class="md-nav__link">
    2.3 Filtrlash - filter
  </a>
  
    <nav class="md-nav" aria-label="2.3 Filtrlash - filter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-filtrlash-filter" class="md-nav__link">
    2.3.1 Filtrlash - Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232-qidirish-search" class="md-nav__link">
    2.3.2 Qidirish - Search
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#233-tartiblash-order" class="md-nav__link">
    2.3.3 Tartiblash - Order
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-havfsizlik-security" class="md-nav__link">
    2.4 Havfsizlik - security
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-amaliyot-oquvchi" class="md-nav__link">
    3. Amaliyot. O'quvchi
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../11_deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mavzu 10: Deploy
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../12_auth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mavzu 11: Autentifikatsiya va avtorizatsiya
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Mundarija">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Mundarija
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#reja" class="md-nav__link">
    Reja:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-bilim" class="md-nav__link">
    1. Bilim
  </a>
  
    <nav class="md-nav" aria-label="1. Bilim">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-terminlar" class="md-nav__link">
    1.1 Terminlar
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-amaliyot-oqituvchi" class="md-nav__link">
    2. Amaliyot. O'qituvchi
  </a>
  
    <nav class="md-nav" aria-label="2. Amaliyot. O'qituvchi">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-serialayzer" class="md-nav__link">
    2.1 Serialayzer
  </a>
  
    <nav class="md-nav" aria-label="2.1 Serialayzer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-tarmoqli-serializer" class="md-nav__link">
    2.1.1 Tarmoqli serializer
  </a>
  
    <nav class="md-nav" aria-label="2.1.1 Tarmoqli serializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#masala-1" class="md-nav__link">
    Masala 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qadam-1" class="md-nav__link">
    Qadam 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qadam-2" class="md-nav__link">
    Qadam 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qadam-3" class="md-nav__link">
    Qadam 3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qadam-4" class="md-nav__link">
    Qadam 4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qadam-5" class="md-nav__link">
    Qadam 5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qadam-6" class="md-nav__link">
    Qadam 6
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#masala-2" class="md-nav__link">
    Masala 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#masala-3" class="md-nav__link">
    Masala 3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-metod-qoshish" class="md-nav__link">
    2.1.2 Metod qo'shish
  </a>
  
    <nav class="md-nav" aria-label="2.1.2 Metod qo'shish">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#masala-4" class="md-nav__link">
    Masala 4
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#213-validatsiya" class="md-nav__link">
    2.1.3 Validatsiya
  </a>
  
    <nav class="md-nav" aria-label="2.1.3 Validatsiya">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#built-in-validatsiya" class="md-nav__link">
    Built-in validatsiya
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validatsiya-yozish" class="md-nav__link">
    Validatsiya yozish
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hususiy-validatsiya" class="md-nav__link">
    Hususiy validatsiya
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#umumiy-validatsiya" class="md-nav__link">
    Umumiy validatsiya
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-sahifalash-pagination" class="md-nav__link">
    2.2 Sahifalash - pagination
  </a>
  
    <nav class="md-nav" aria-label="2.2 Sahifalash - pagination">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-pagenumberpagination" class="md-nav__link">
    2.2.1 PageNumberPagination
  </a>
  
    <nav class="md-nav" aria-label="2.2.1 PageNumberPagination">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2211-global-daraja" class="md-nav__link">
    2.2.1.1 Global daraja
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2212-class-daraja" class="md-nav__link">
    2.2.1.2 Class daraja
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#224-limitoffsetpagination" class="md-nav__link">
    2.2.4 LimitOffsetPagination
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-filtrlash-filter" class="md-nav__link">
    2.3 Filtrlash - filter
  </a>
  
    <nav class="md-nav" aria-label="2.3 Filtrlash - filter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-filtrlash-filter" class="md-nav__link">
    2.3.1 Filtrlash - Filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232-qidirish-search" class="md-nav__link">
    2.3.2 Qidirish - Search
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#233-tartiblash-order" class="md-nav__link">
    2.3.3 Tartiblash - Order
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-havfsizlik-security" class="md-nav__link">
    2.4 Havfsizlik - security
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-amaliyot-oquvchi" class="md-nav__link">
    3. Amaliyot. O'quvchi
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="mavzu-9-serializer-pagination-filtering-security">Mavzu 9: Serializer. Pagination. Filtering. Security<a class="headerlink" href="#mavzu-9-serializer-pagination-filtering-security" title="Permanent link">&para;</a></h1>
<h2 id="reja">Reja:<a class="headerlink" href="#reja" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#1-bilim">Bilim</a></li>
<li><a href="#11-terminlar">1.1 Terminlar</a></li>
<li><a href="#12-oqish-uchun-materiallar">1.2 O'qish uchun materiallar</a></li>
<li><a href="#2-amaliyot-oqituvchi">Amaliyot. O'qituvchi</a></li>
<li><a href="#3-amaliyot-oquvchi">Amaliyot. O'quvchi</a></li>
</ol>
<h2 id="1-bilim">1. Bilim<a class="headerlink" href="#1-bilim" title="Permanent link">&para;</a></h2>
<h3 id="11-terminlar">1.1 Terminlar<a class="headerlink" href="#11-terminlar" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>
</code></pre></div>
<h2 id="2-amaliyot-oqituvchi">2. Amaliyot. O'qituvchi<a class="headerlink" href="#2-amaliyot-oqituvchi" title="Permanent link">&para;</a></h2>
<p><strong>Reja:</strong></p>
<ul>
<li><a href="#21-serialayzer">2.1 Serializer</a></li>
<li><a href="#211-tarmoqli-serializer">2.1.1 Tarmoqli serializer</a></li>
<li><a href="#212-metod-qoshish">2.1.2 Metod qo'shish</a></li>
<li><a href="#213-validatsiya">2.1.3 Validatsiya</a></li>
<li><a href="#22-sahifalash---pagination">2.2 Sahifalash - pagination</a></li>
<li><a href="#221-pagenumberpagination">2.2.1 PageNumberPagination</a><ul>
<li><a href="#2211-global-daraja">2.2.1.1 Global daraja</a></li>
<li><a href="#2212-class-daraja">2.2.1.2 Class daraja</a></li>
</ul>
</li>
<li><a href="#224-limitoffsetpagination">2.2.4 LimitOffsetPagination</a></li>
<li><a href="#23-filtrlash---filter">2.3 Filtrlash - filter</a></li>
<li><a href="#231-filtrlash---filter">2.3.1 Filtrlash - Filter</a></li>
<li><a href="#232-qidirish---search">2.3.2 Qidirish - Search</a></li>
<li><a href="#233-tartiblash---order">2.3.3 Tartiblash - Order</a></li>
</ul>
<h3 id="21-serialayzer">2.1 Serialayzer<a class="headerlink" href="#21-serialayzer" title="Permanent link">&para;</a></h3>
<h4 id="211-tarmoqli-serializer">2.1.1 Tarmoqli serializer<a class="headerlink" href="#211-tarmoqli-serializer" title="Permanent link">&para;</a></h4>
<h5 id="masala-1">Masala 1<a class="headerlink" href="#masala-1" title="Permanent link">&para;</a></h5>
<p>Masala shuki, bazada muallif va kitob modeli bor. Shunday API kerakki unda hamma mualliflarni qaytarsin, har bir muallif bilan birga u maulliflarga tegishli kitoblar ro'yxatini ham qaytarsin</p>
<p>Qadamlar:</p>
<ol>
<li>Yangi loyiha ochamiz. Nomi: books</li>
<li>Yangi model (class/jadval) ochamiz</li>
<li>Yangi tarmoqli serialayzer yozamiz</li>
<li>Classga asoslangan view yozamiz</li>
<li>URL marshrutlarni yozamiz</li>
<li>Browzerda va Postman da test qilamiz</li>
</ol>
<h5 id="qadam-1">Qadam 1<a class="headerlink" href="#qadam-1" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; django-admin startproject books .
&gt;&gt;&gt; python manage.py startapp product
</code></pre></div>
<p><b>settings.py</b></p>
<div class="highlight"><pre><span></span><code><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;django.contrib.admin&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>
    <span class="s1">&#39;rest_framework&#39;</span><span class="p">,</span>
    <span class="s1">&#39;product.apps.ProductConfig&#39;</span>
<span class="p">]</span>
</code></pre></div>
<h5 id="qadam-2">Qadam 2<a class="headerlink" href="#qadam-2" title="Permanent link">&para;</a></h5>
<p><b>product/models.py</b></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>


<span class="c1"># Create your models here.</span>
<span class="k">class</span> <span class="nc">Author</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">first_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">last_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Book</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">rating</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span>
    <span class="n">author</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Author</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s2">&quot;books&quot;</span><span class="p">)</span>
</code></pre></div>
<h5 id="qadam-3">Qadam 3<a class="headerlink" href="#qadam-3" title="Permanent link">&para;</a></h5>
<p><b>product/serializers.py</b></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">rest_framework</span> <span class="kn">import</span> <span class="n">serializers</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="o">*</span>


<span class="k">class</span> <span class="nc">BookSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Book</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="s1">&#39;__all__&#39;</span>


<span class="k">class</span> <span class="nc">AuthorSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="n">books</span> <span class="o">=</span> <span class="n">BookSerializer</span><span class="p">(</span><span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Author</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="s1">&#39;__all__&#39;</span>
</code></pre></div>
<h5 id="qadam-4">Qadam 4<a class="headerlink" href="#qadam-4" title="Permanent link">&para;</a></h5>
<p><b>product/views.py</b></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">.serializers</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">rest_framework</span> <span class="kn">import</span> <span class="n">generics</span>


<span class="k">class</span> <span class="nc">AuthorListView</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">ListCreateAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Author</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">AuthorSerializer</span>


<span class="k">class</span> <span class="nc">AuthorDetailView</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">RetrieveUpdateDestroyAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Author</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">AuthorSerializer</span>


<span class="k">class</span> <span class="nc">BookListView</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">ListCreateAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Book</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">BookSerializer</span>


<span class="k">class</span> <span class="nc">BookDetailView</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">RetrieveUpdateDestroyAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Book</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">BookSerializer</span>
</code></pre></div>
<h5 id="qadam-5">Qadam 5<a class="headerlink" href="#qadam-5" title="Permanent link">&para;</a></h5>
<p><b>books/urls.py</b></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span><span class="p">,</span> <span class="n">include</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;admin/&#39;</span><span class="p">,</span> <span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;api/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s1">&#39;product.urls&#39;</span><span class="p">)),</span>
<span class="p">]</span>
</code></pre></div>
<p><b>product/urls.py</b></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span> <span class="nn">.views</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;books/&#39;</span><span class="p">,</span> <span class="n">BookListView</span><span class="o">.</span><span class="n">as_view</span><span class="p">()),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;books/&lt;int:pk&gt;&#39;</span><span class="p">,</span> <span class="n">BookDetailView</span><span class="o">.</span><span class="n">as_view</span><span class="p">()),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;authors/&#39;</span><span class="p">,</span> <span class="n">AuthorListView</span><span class="o">.</span><span class="n">as_view</span><span class="p">()),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;authors/&lt;int:pk&gt;&#39;</span><span class="p">,</span> <span class="n">AuthorDetailView</span><span class="o">.</span><span class="n">as_view</span><span class="p">()),</span>
<span class="p">]</span>
</code></pre></div>
<h5 id="qadam-6">Qadam 6<a class="headerlink" href="#qadam-6" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; python manage.py makemigrations
&gt;&gt;&gt; python manage.py migrate
&gt;&gt;&gt; python manage.py runserver
</code></pre></div>
<p>Quyidagi mualliflarni kiriting:</p>
<div class="highlight"><pre><span></span><code>  1. Abdulhamid ChoÊ»lpon
  2. Abdulla Qodiriy
</code></pre></div>
<p>Quyidagi kitoblarni kiritib chiqing:</p>
<div class="highlight"><pre><span></span><code>  1. Abdulhamid ChoÊ»lpon
    {
        &quot;title&quot;: &quot;Kecha va kunduz&quot;,
        &quot;rating&quot;: 50,
    },
    {
        &quot;title&quot;: &quot;Vayronalar orasidan&quot;,
        &quot;rating&quot;: 100,
    }
  2. Abdulla Qodiriy
    {
        &quot;title&quot;: &quot;OÊ»tkan kunlar&quot;,
        &quot;rating&quot;: 150,
    },
    {
        &quot;title&quot;: &quot;Mehrobdan chayon&quot;,
        &quot;rating&quot;: 200,
    },
    {
        &quot;title&quot;: &quot;Obid ketmon&quot;,
        &quot;rating&quot;: 60,
    }
</code></pre></div>
<p>Natija:</p>
<p><img alt="" src="../images/serializer/img_3.png" /></p>
<h5 id="masala-2">Masala 2<a class="headerlink" href="#masala-2" title="Permanent link">&para;</a></h5>
<p>Loyihalar API sidan kelayotgan userni id emas, balki obyekt ko'rinishida qaytarish kerak</p>
<p><img alt="" src="../images/serializer/img_20.png" /></p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ProjectSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">UserForProjectSerializer</span><span class="p">(</span><span class="n">many</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Project</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="s1">&#39;__all__&#39;</span>
</code></pre></div>
<p>Natija:</p>
<p><img alt="" src="../images/serializer/img_20.png" /></p>
<h5 id="masala-3">Masala 3<a class="headerlink" href="#masala-3" title="Permanent link">&para;</a></h5>
<p>Loyihalar API sidan kelayotgan tag id lari ro'yxatini o'rniga tag obyektlari ro'yxatini qaytarish kerak</p>
<p><img alt="" src="../images/serializer/img_22.png" /></p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ProjectSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">UsersSerializer</span><span class="p">(</span><span class="n">many</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="n">TagSerializer</span><span class="p">(</span><span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Project</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="s1">&#39;__all__&#39;</span>
</code></pre></div>
<p><img alt="" src="../images/serializer/img_23.png" /></p>
<h4 id="212-metod-qoshish">2.1.2 Metod qo'shish<a class="headerlink" href="#212-metod-qoshish" title="Permanent link">&para;</a></h4>
<h5 id="masala-4">Masala 4<a class="headerlink" href="#masala-4" title="Permanent link">&para;</a></h5>
<p>Loyihalar API sidan shu loyihaga berilgan fikrlar (Review) ham qaytsin
<br>
<br>
Endi bu metodni yozib SerializerMethodField yordamida hususiyat kabi chiqaradigan qilamiz:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ProjectSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">UsersSerializer</span><span class="p">(</span><span class="n">many</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="n">TagSerializer</span><span class="p">(</span><span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">reviews</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">SerializerMethodField</span><span class="p">()</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Project</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="s1">&#39;__all__&#39;</span>

    <span class="k">def</span> <span class="nf">get_reviews</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">reviews</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">review_set</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">serializer</span> <span class="o">=</span> <span class="n">ReviewSerializer</span><span class="p">(</span><span class="n">reviews</span><span class="p">,</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">serializer</span><span class="o">.</span><span class="n">data</span>
</code></pre></div>
<p>Natija:</p>
<p><img alt="" src="../images/serializer/img_24.png" /></p>
<h4 id="213-validatsiya">2.1.3 Validatsiya<a class="headerlink" href="#213-validatsiya" title="Permanent link">&para;</a></h4>
<h5 id="built-in-validatsiya">Built-in validatsiya<a class="headerlink" href="#built-in-validatsiya" title="Permanent link">&para;</a></h5>
<p>Bular model orqali beriladi. Masalan</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">users.models</span> <span class="kn">import</span> <span class="n">Profile</span>


<span class="k">class</span> <span class="nc">Skill</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">()</span>
    <span class="n">created</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Profile</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SET_NULL</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s2">&quot;user_skills&quot;</span><span class="p">)</span>
</code></pre></div>
<ol>
<li>name hususiyatiga 10 tadan oshiq harflar kiritib ko'ring, xatolik beradi. Chunki max_length=10</li>
<li>description hususiyatini bo'sh qoldirib kiritib ko'ring xatolik beradi</li>
</ol>
<p>Yuqoridagilar cheklovlar validaysiya ro'lini bajaradi</p>
<p><img alt="" src="../images/serializer/img_25.png" /></p>
<p>Cheklovlar ko'p, ulardan yana ba'zilarini keltiramiz:</p>
<ol>
<li>blank=True - qiymat bo'sh bo'lsa, bo'sh satrni oladi</li>
<li>null=True - bazada null qiymat saqlanishi mumkin</li>
</ol>
<h5 id="validatsiya-yozish">Validatsiya yozish<a class="headerlink" href="#validatsiya-yozish" title="Permanent link">&para;</a></h5>
<h5 id="hususiy-validatsiya">Hususiy validatsiya<a class="headerlink" href="#hususiy-validatsiya" title="Permanent link">&para;</a></h5>
<p>Qiymatni shartga tekshiradigan qilish uchun serializer ga yozsak bo'ladi. Qachonki is_valid() metodi chaqirilganda mana shu metodlar ishga tushadi.
Uni yozish uchun nomlanish qoidasiga rioya qilish kerak. Yozilgna metod quyidagicha bo'lishi kerak:</p>
<div class="highlight"><pre><span></span><code>def validate_hususiyat(self, value):
    ...
</code></pre></div>
<p>Masala 1. Skill jadvaliga kiritilayotgan malaka nominida son bo'lmasin. Endi bu shartni tekshiradigan qilish uchun SkillSerializer ga qo'shimcha metod yozamiz:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">rest_framework</span> <span class="kn">import</span> <span class="n">serializers</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Skill</span>


<span class="k">class</span> <span class="nc">SkillSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Skill</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="s1">&#39;__all__&#39;</span>

    <span class="k">def</span> <span class="nf">validate_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;\d&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">serializers</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s1">&#39;Malaka nomida son kelmasin&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>
</code></pre></div>
<p>Natija:</p>
<p><img alt="" src="../images/serializer/img_26.png" /></p>
<h5 id="umumiy-validatsiya">Umumiy validatsiya<a class="headerlink" href="#umumiy-validatsiya" title="Permanent link">&para;</a></h5>
<p>Umumiy validatsiya validate() metodida yoziladi:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">rest_framework</span> <span class="kn">import</span> <span class="n">serializers</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Skill</span>
<span class="kn">from</span> <span class="nn">users.serializers</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">re</span>


<span class="k">class</span> <span class="nc">SkillSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Skill</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="s1">&#39;__all__&#39;</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;\d&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]):</span>
            <span class="k">raise</span> <span class="n">serializers</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s1">&#39;Malaka nomida son kelmasin&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">serializers</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s1">&#39;Tavsif 10 harfdan kam bo&#39;&#39;lmasin&#39;</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data</span>
</code></pre></div>
<p>Natija:</p>
<p><img alt="" src="../images/serializer/img_27.png" /></p>
<p><img alt="" src="../images/serializer/img_28.png" /></p>
<h3 id="22-sahifalash-pagination">2.2 Sahifalash - pagination<a class="headerlink" href="#22-sahifalash-pagination" title="Permanent link">&para;</a></h3>
<h4 id="221-pagenumberpagination">2.2.1 PageNumberPagination<a class="headerlink" href="#221-pagenumberpagination" title="Permanent link">&para;</a></h4>
<p>Avvalgi books loyihasini davvom ettiramiz</p>
<h5 id="2211-global-daraja">2.2.1.1 Global daraja<a class="headerlink" href="#2211-global-daraja" title="Permanent link">&para;</a></h5>
<p>Sahifalashni global e'lon qilish uchun settings.py ga quyidagi yangi yozuvlarni kiritamiz. Bu holda setting.py faylidagi pagination sozlamalari hamma Generic view va ViewSet classlariga tasir qiladi. Mixin va APIVIEW larda uni alohida ko'rsatish kerak bo'ladi</p>
<p><b>settings.py</b></p>
<div class="highlight"><pre><span></span><code><span class="c1"># ... bu yerda kodlar bor</span>

<span class="n">REST_FRAMEWORK</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;DEFAULT_PAGINATION_CLASS&#39;</span><span class="p">:</span> <span class="s1">&#39;rest_framework.pagination.PageNumberPagination&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PAGE_SIZE&#39;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>

<span class="c1"># ... bu yerda kodlar bor</span>
</code></pre></div>
<p>Izoh:</p>
<ul>
<li>PAGE_SIZE - bitta sahifada obyektlar soni. Ya'ni mazkur holatda bitta sahifada 2 ta kitob bo'ladi</li>
<li>DEFAULT_PAGINATION_CLASS - pagination classni ko'rsatish uchun ishlatiladi.</li>
<li>PageNumberPagination - Bu class ni ishlatsak, url http://127.0.0.1:8000/api/books/?page=2 ko'rinishda bo'ladi, ya'ni faqat sahifani raqami beriladi</li>
</ul>
<p>Ishga tushirib bravzerdan api/books/ va api/authors/ apilariga kirazmi</p>
<p>Natija:</p>
<p><img alt="" src="../images/serializer/img_8.png" /></p>
<h5 id="2212-class-daraja">2.2.1.2 Class daraja<a class="headerlink" href="#2212-class-daraja" title="Permanent link">&para;</a></h5>
<p>Class darajada pagination sozlamalari settings.py faylida emas, balki class (genericview, ViewSet) ichida beriladi
<br>
Hozirgi holatda mualliflar ham sahifalanib chiqadi:
<img alt="" src="../images/serializer/img_4.png" /></p>
<ol>
<li>Endi faqatgina api/authors/ APIsidan paginationni olib tashlaymiz. Buning uchun AuthorListView classida pagination_class = None deb yozamiz</li>
</ol>
<p><b>product.views.py</b></p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AuthorListView</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">ListCreateAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Author</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">AuthorSerializer</span>
    <span class="n">pagination_class</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<p>Natija:</p>
<p><img alt="" src="../images/serializer/img_5.png" /></p>
<ol>
<li>Faqatgina api/authors/ APIsida sahifalash boshqacha bo'lsin. Masalan bitta sahifada bitta obyekt bo'lsin. Buning uchun alohida PageNumberPagination classdan voris bo'lgan class yozamiz. Keyin uni AuthosListView classining pagination_class hususiyatiga yozamiz</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">.serializers</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">rest_framework</span> <span class="kn">import</span> <span class="n">generics</span>
<span class="kn">from</span> <span class="nn">rest_framework.pagination</span> <span class="kn">import</span> <span class="n">PageNumberPagination</span>


<span class="k">class</span> <span class="nc">AuthorPagination</span><span class="p">(</span><span class="n">PageNumberPagination</span><span class="p">):</span>
    <span class="n">page_size</span> <span class="o">=</span> <span class="mi">1</span>


<span class="k">class</span> <span class="nc">AuthorListView</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">ListCreateAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Author</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">AuthorSerializer</span>
    <span class="n">pagination_class</span> <span class="o">=</span> <span class="n">AuthorPagination</span>
</code></pre></div>
<p>Natija:
<img alt="" src="../images/serializer/img_6.png" /></p>
<h4 id="224-limitoffsetpagination">2.2.4 LimitOffsetPagination<a class="headerlink" href="#224-limitoffsetpagination" title="Permanent link">&para;</a></h4>
<ol>
<li>Faqatgina api/authors APIsida bitta sahifada nechta obyekt bo'lishini klient tarafidan ko'rsata olsin. Buning uchun LimitOffsetPagination ni pagination_class ga ko'rsatamiz.</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">rest_framework.pagination</span> <span class="kn">import</span> <span class="n">PageNumberPagination</span><span class="p">,</span> <span class="n">LimitOffsetPagination</span>


<span class="k">class</span> <span class="nc">AuthorListView</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">ListCreateAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Author</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">AuthorSerializer</span>
    <span class="n">pagination_class</span> <span class="o">=</span> <span class="n">LimitOffsetPagination</span>
</code></pre></div>
<p>Bizda settings.py faylida PAGE_SIZE da 2 soni berilgna, bizda ham 2ta muallif bor, keyingi sahifa havolasini ko'rish uchun yana bitta muallif kiritamiz:</p>
<p><img alt="" src="../images/serializer/img_7.png" /></p>
<p>Natijani ko'ramiz:
<img alt="" src="../images/serializer/img_9.png" /></p>
<h3 id="23-filtrlash-filter">2.3 Filtrlash - filter<a class="headerlink" href="#23-filtrlash-filter" title="Permanent link">&para;</a></h3>
<p>Django da Filter ga filtr, tartiblash, qidirish funksiyalari kirib ketadi, bularni quyida birin ketin ko'rib o'tamiz. Bularni ham yuqoridagidek global va class darajasida sozlash mumkin. Endi ularni alohida yozib o'tirmaymiz
<br>
Izoh:</p>
<ul>
<li>filter - bu ayni shu qiymatga teng bo'lganlarni topib beradi</li>
<li>search - berilgan qiymat ko'rsatilgan hususiyatning boshida , ohirida, orasida kelganlarni qidirib topib beradi</li>
<li>order - o'sish yoki kamayish tartibida chiqarib beradi</li>
</ul>
<h4 id="231-filtrlash-filter">2.3.1 Filtrlash - Filter<a class="headerlink" href="#231-filtrlash-filter" title="Permanent link">&para;</a></h4>
<p>Filterni ishlatish uchun uni avval o'rnatib olamiz</p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; pip install django-filter
</code></pre></div>
<p><b>settings.py</b></p>
<div class="highlight"><pre><span></span><code><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;django.contrib.admin&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>
    <span class="s1">&#39;rest_framework&#39;</span><span class="p">,</span>
    <span class="s1">&#39;product&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django_filters&#39;</span>
<span class="p">]</span>
</code></pre></div>
<ol>
<li>books loyihasida hamma APIlarni filterlash imkoni bo'lsin. Mualliflarni hamma hususiyati bo'yicha, kitobni esa faqat title bo'yicha filtrlasin</li>
</ol>
<p><b>settings.py</b></p>
<div class="highlight"><pre><span></span><code><span class="n">REST_FRAMEWORK</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;DEFAULT_PAGINATION_CLASS&#39;</span><span class="p">:</span> <span class="s1">&#39;rest_framework.pagination.PageNumberPagination&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PAGE_SIZE&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;DEFAULT_FILTER_BACKENDS&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;django_filters.rest_framework.DjangoFilterBackend&#39;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Bu yerda filter global qilib e'lon qilindi. Endi Har bir classga alohida qaysi hususiyati bo'yicha filtrlash kerakligini ko'rsatamiz</p>
<p><b>product/views.py</b></p>
<div class="highlight"><pre><span></span><code><span class="c1"># ...</span>

<span class="k">class</span> <span class="nc">AuthorListView</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">ListCreateAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Author</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">AuthorSerializer</span>
    <span class="n">pagination_class</span> <span class="o">=</span> <span class="n">LimitOffsetPagination</span>
    <span class="n">filterset_fields</span> <span class="o">=</span> <span class="s1">&#39;__all__&#39;</span>

<span class="c1"># ...</span>

<span class="k">class</span> <span class="nc">BookListView</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">ListCreateAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Book</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">BookSerializer</span>
    <span class="n">filterset_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>

<span class="c1"># ...</span>
</code></pre></div>
<p>Izoh:</p>
<ul>
<li>filterset_fields - bu yerga filtrlash uchun modelning hususiyati ko'rsatiladi</li>
</ul>
<p>Mualliflarni hamma hususiyati bo'yicha filtrlasin deb yozdik (filterset_fields = '<strong>all</strong>')
<br>
Kitoblarni esa faqat title bo'yicha filtrlasin deb yozdik (filterset_fields = ['title'])</p>
<p>Natija:</p>
<p>Mualliflarni filtrlash</p>
<p><img alt="" src="../images/serializer/img_10.png" /></p>
<p>Kitoblarni filtrlash</p>
<p><img alt="" src="../images/serializer/img_11.png" /></p>
<p>Muallif ismi bo'yicha filtrlaymiz</p>
<p><img alt="" src="../images/serializer/img_12.png" /></p>
<h4 id="232-qidirish-search">2.3.2 Qidirish - Search<a class="headerlink" href="#232-qidirish-search" title="Permanent link">&para;</a></h4>
<p><br>Avval global darajada berib qo'yamiz<b>settings.py</b>
Qidirsh imkoniyatlari:</p>
<ul>
<li>'' - harfa katta kichikligidan qat'iy nazar qidiradi</li>
<li>'^' - boshidan qidiradi</li>
<li>'=' - ayni teng bo'lganini qidiradi</li>
<li>'@' - Katta matndan qidiradi FTS-Full text search deb nomlanadi va bu faqat PostgreSQL da ishlaydi</li>
<li>'$' - regex usulida qidirish</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">REST_FRAMEWORK</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;DEFAULT_PAGINATION_CLASS&#39;</span><span class="p">:</span> <span class="s1">&#39;rest_framework.pagination.PageNumberPagination&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PAGE_SIZE&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;DEFAULT_FILTER_BACKENDS&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;django_filters.rest_framework.DjangoFilterBackend&#39;</span><span class="p">,</span> <span class="s1">&#39;rest_framework.filters.SearchFilter&#39;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<ol>
<li>Kitobni nomi orqali qidirish imkoni bo'lsin, lekin bu holda so'z sarlavha orasida, ohirida, boshida kelsa ham qaytarsin</li>
</ol>
<p><b>product/views.py</b>
Qaysi hususiyatlarni qidirish kerakligini search_fields hususiyatida ko'rsatib qo'yamiz</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BookListView</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">ListCreateAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Book</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">BookSerializer</span>
    <span class="n">filterset_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
</code></pre></div>
<p>Ya'ni faqat title bo'yicha qidirsin</p>
<p>Natija:
<img alt="" src="../images/serializer/img_13.png" /></p>
<ol>
<li>Muallifning ismi va familiyasi bo'yicha qidirish imkoni bo'lsin</li>
</ol>
<p><b>product/views.py</b></p>
<div class="highlight"><pre><span></span><code><span class="c1"># ...</span>

<span class="k">class</span> <span class="nc">AuthorListView</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">ListCreateAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Author</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">AuthorSerializer</span>
    <span class="n">pagination_class</span> <span class="o">=</span> <span class="n">LimitOffsetPagination</span>
    <span class="n">filterset_fields</span> <span class="o">=</span> <span class="s1">&#39;__all__&#39;</span>
    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;first_name&#39;</span><span class="p">,</span> <span class="s1">&#39;last_name&#39;</span><span class="p">]</span>

<span class="c1"># ...</span>
</code></pre></div>
<p>Natija:</p>
<p><img alt="" src="../images/serializer/img_14.png" /></p>
<p>'iy' harflarini berganda u ham ism ham sharifdan qidiradi</p>
<ol>
<li>Muallif ismida yoki sharifi boshidan qidirsin</li>
</ol>
<p><b>product/views.py</b></p>
<div class="highlight"><pre><span></span><code><span class="c1"># ...</span>

<span class="k">class</span> <span class="nc">AuthorListView</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">ListCreateAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Author</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">AuthorSerializer</span>
    <span class="n">pagination_class</span> <span class="o">=</span> <span class="n">LimitOffsetPagination</span>
    <span class="n">filterset_fields</span> <span class="o">=</span> <span class="s1">&#39;__all__&#39;</span>
    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;^first_name&#39;</span><span class="p">,</span> <span class="s1">&#39;^last_name&#39;</span><span class="p">]</span>

<span class="c1"># ...</span>
</code></pre></div>
<p>Natija:</p>
<p>Agar 'qo' ni yozsak, Qodiriy ismida uchraydi</p>
<p><img alt="" src="../images/serializer/img_15.png" /></p>
<p><br></p>
<p>Agar 'iy' ni yozsak, hech qaysi ism yoki sharif boshida uchramaydi</p>
<p><img alt="" src="../images/serializer/img_16.png" /></p>
<h4 id="233-tartiblash-order">2.3.3 Tartiblash - Order<a class="headerlink" href="#233-tartiblash-order" title="Permanent link">&para;</a></h4>
<p><br>Avval global darajada berib qo'yamiz<b>settings.py</b></p>
<div class="highlight"><pre><span></span><code><span class="n">REST_FRAMEWORK</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;DEFAULT_PAGINATION_CLASS&#39;</span><span class="p">:</span> <span class="s1">&#39;rest_framework.pagination.PageNumberPagination&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PAGE_SIZE&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;DEFAULT_FILTER_BACKENDS&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;django_filters.rest_framework.DjangoFilterBackend&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;rest_framework.filters.SearchFilter&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;rest_framework.filters.OrderingFilter&#39;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Natijada bizda APIlarda tartiblash imkoni mavjud bo'ladi</p>
<p><img alt="" src="../images/serializer/img_17.png" /></p>
<p><br>
Agar alohida ko'rsatmoqchi bo'lsak, u holda ordering_fields hususiyatida ko'rsatamiz</p>
<ol>
<li>Kitoblarni nomi bo'yicha tartiblab bering</li>
</ol>
<p><b>product/views.py</b></p>
<div class="highlight"><pre><span></span><code><span class="c1"># ...</span>

<span class="k">class</span> <span class="nc">BookListView</span><span class="p">(</span><span class="n">generics</span><span class="o">.</span><span class="n">ListCreateAPIView</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">Book</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">BookSerializer</span>
    <span class="n">filterset_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
    <span class="n">ordering_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>

<span class="c1"># ...</span>
</code></pre></div>
<p>Natija:
<br>
<img alt="" src="../images/serializer/img_18.png" />
<br>
Teskari tartiblash
<br>
<img alt="" src="../images/serializer/img_19.png" />
<br></p>
<h3 id="24-havfsizlik-security">2.4 Havfsizlik - security<a class="headerlink" href="#24-havfsizlik-security" title="Permanent link">&para;</a></h3>
<h2 id="3-amaliyot-oquvchi">3. Amaliyot. O'quvchi<a class="headerlink" href="#3-amaliyot-oquvchi" title="Permanent link">&para;</a></h2>
<p><img alt="" src="../images/queryset/img_2.png" /></p>
<p>Quyida portfolio bo'yicha vazifalar keltirilgan:</p>
<ol>
<li>users/ API da foydalnuvchi va unga tegishli hamma loyihalar chiqsin</li>
<li>users_received_message/ API da foydalnuvchi va unga tegishli hamma unga yuborilgan habarlar chiqsin</li>
<li>users_sent_message/ API da foydalnuvchi va unga tegishli hamma u yuborgan habarlar chiqsin</li>
<li>project_review/ API da loyiha va unga berilgan hamma izohlar chiqsin</li>
<li>posrtfolio loyihasidagi hamma APIlar pagination bilan chiqsin</li>
<li>Faqatgin loyihalar APIsida sahifadagi loyihalar soni ko'rsatish imkoni bo'lsin</li>
<li>Habarlar APIsida bitta sahifadagi habarlar soni global page_size dan farqli bo'lsin</li>
<li>Loyihalarni nomi orqali qidirish imkoni bo'lsin</li>
<li>Habarlarni nomi va kontenti orqali qidirish imkoni bo'lsin</li>
<li>Loyihalar nomi bo'yicha tartiblash imkomi bo'lsin</li>
<li>Foydalanuvchilar nomi bo'yicha tartiblash imkomi bo'lsin</li>
</ol>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 PayTechUz
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://t.me/+7Gn-JZ99TfgwZDNi" target="_blank" rel="noopener" title="Telegram" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8Zm114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452 0 0 1 3.53 6.716 43.765 43.765 0 0 1 .417 9.769Z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/hoosnick/rest-api-framework-book" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Buferga nusxalandi", "clipboard.copy": "Buferga nusxalash", "search.result.more.one": "Ushbu sahifada yana 1 ta natija", "search.result.more.other": "Bu sahifada yana # ta natija", "search.result.none": "Mos natijalar yo\u0027q", "search.result.one": "1 ta mos natija", "search.result.other": "# ta mos keladigan natijalar", "search.result.placeholder": "Qidiruvni boshlash uchun kiriting", "search.result.term.missing": "To\u0027ldirilmagan", "select.version": "Versiyani tanlang"}}</script>
    
    
      <script src="../assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  </body>
</html>